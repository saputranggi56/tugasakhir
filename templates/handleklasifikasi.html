{% extends "main_layout.html" %}
{% block content %}
<style>
    .table{
        margin-bottom: 0px!important;
    }
</style>
<h4>
    Hasil Klasifikasi
</h4>


<div class="row">
    <div class="col-md-12">
        <div class="card">
            
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="card" style="padding: 10px;">
                            <div id="myChartPie1"  style="height:350px;"></div>
                            
                            <!--<div class="table-responsive">

                                <table class="table ">
                                    <tr class="bg-primary text-white">
                                        <td >Total Kalimat</td>
                                        <td>:</td>
                                        <td>{{ dataHeader.total_kalimat}}</td>
                                    </tr>
                                    <tr class="bg-success text-white">
                                        <td>Total Kalimat Positif</td>
                                        <td>:</td>
                                        <td>{{ dataHeader.total_positif}}</td>
                                    </tr>
                                    <tr class="bg-danger text-white">
                                        <td>Total Kalimat Negatif</td>
                                        <td>:</td>
                                        <td>{{ dataHeader.total_negatif}}</td>
                                    </tr>
                                    <tr class="bg-info text-white">
                                        <td>Total Kalimat Netral</td>
                                        <td>:</td>
                                        <td>{{ dataHeader.total_netral}}</td>
                                    </tr>
                                </table> 

                            </div>-->
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card-header">
                            <h5 class="text-center font-weight-bold">World Cloud</h5>
                        </div>
                        <div class="card">
                            <!-- <div class="d-flex align-items-center"> -->

                                <img class="img-thumbnail rounded mx-auto d-block m-2" src="{{url_for('static', filename='Classification.png')}}" width="70%"alt="">
                            <!-- </div> -->
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-12">
                        <div class="card" style="padding: 10px;">
                            <div class="table-responsive">

                                <table class="table table-bordered" >
                                    <thead>
                                      <tr>
                                        <th class="text-center" scope="col" style="width:30px">No</th>
                                        <th class="text-center" scope="col">Kalimat</th>
                                        <th class="text-center" scope="col">Setelah Praproses</th>
                                        <th class="text-center" scope="col">Kelas</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                        {% for list in data %}
                                            <tr>
                                                <td>
                                                    {{list.no}}
                                                </td>
                                                <td>
                                                    {{list.kalimat}}
                                                </td>
                                                <td>
                                                    {{list.after_praproses}}
                                                </td>
                                                <td>
                                                    {{list.flagging}}
                                                </td>
                                            </tr>
                                        {% endfor %}
    
                                    </tbody>
                                      
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.1/echarts.min.js"></script>

<script>

    function myFunc(vars) {
        return vars
    }
    myVar = myFunc({{dataHeader|tojson}})

    var myChartPie = echarts.init(document.getElementById('myChartPie1'));

    optionPie = {
        title: {
          text: 'Data by Class',
          subtext: 'News Sentence',
          left: 'center'
        },
        tooltip: {
          trigger: 'item'
        },
        legend: {
          orient: 'vertical',
          left: 'left'
        },
        series: [
          {
            name: 'Access From',
            type: 'pie',
            radius: '60%',
            data: [
                { 
                    value   : myVar.total_positif, 
                    name    : 'Positif', 
                    label   : {
                                show: true,
                                formatter: 'Positif {c} %',
                              }
                },
                { 
                    value   :  myVar.total_negatif, 
                    name    : 'Negatif', 
                    label   : {
                                show: true,
                                formatter: 'Negatif {c} %',
                              }
                },
                { 
                    value   : myVar.total_netral, 
                    name    : 'Netral', 
                    label   : {
                                show: true,
                                formatter: 'Netral {c} %',
                              }
                },
              
            ],
            emphasis: {
              itemStyle: {
                shadowBlur: 10,
                shadowOffsetX: 0,
                shadowColor: 'rgba(0, 0, 0, 0.5)'
              }
            }
          }
        ]
      };

      myChartPie.setOption(optionPie);

</script>
<!-- <p>Ini About</p> -->
{% endblock %}